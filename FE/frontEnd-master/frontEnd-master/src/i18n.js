import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import HttpBackend from 'i18next-http-backend';
import LanguageDetector from 'i18next-browser-languagedetector';

// Fallback translations
const resources = {
    en: {
        translation: {
            // Existing translations from original i18n.js
            free_shipping: 'Free shipping for standard orders over $100',
            help_faqs: 'Help & FAQs',
            my_account: 'My Account',
            register: 'Register',
            login: 'Login',
            home: 'Home',
            shop: 'Shop',
            cart: 'Cart',
            about: 'About',
            shop_vegetables: 'Vegetable Shop',
            quality_safety: 'Guaranteed quality, safety',
            shop_now: 'Shop Now',
            best_sellers: 'BEST SELLERS',
            new_products: 'NEW PRODUCTS',
            favorite_products: 'FAVORITE PRODUCTS',
            help: 'HELP',
            track_order: 'Track Order',
            returns: 'Returns',
            shipping: 'Shipping',
            faqs: 'FAQs',
            contact: 'CONTACT',
            contact_info: 'Any questions? Let us know at the store on the 8th floor, 379 Hudson St, New York, NY 10018 or call us at (+1) 96 716 6879',
            newsletter: 'NEWSLETTER',
            subscribe: 'SUBSCRIBE',
            email_placeholder: 'email@example.com',
            email_notblank: 'Email cannot be blank',
            email_invalid: 'Invalid email format',
            password_notblank: 'Password cannot be blank',
            password_invalid_format: 'Password must contain at least 1 uppercase letter, 1 digit, 1 special character',
            login_failed: 'Login failed',
            login_success: 'Login successful',
            order_history: 'Order History',
            no_orders: 'You have no orders.',
            loading: 'Loading...',
            error_loading: 'Failed to load orders. Please try again.',
            cancel_order: 'Cancel Order',
            confirm_cancel: 'Are you sure you want to cancel this order?',
            view_details: 'View Details',
            order_details: 'Order Details',

            // New translations for Footer.jsx
            copyright: 'Copyright ©{{year}} All rights reserved | Made with ',
            by_colorlib: 'by Colorlib',
            and_distributed_by: ' & distributed by ',
            themewagon: 'ThemeWagon',

            // New translations for Login.jsx
            welcome: 'Welcome to our application',
            email: 'Email',
            password: 'Password',
            forgot_password: 'Forgot Password',
            or: 'or',
            signin_with_google: 'Sign in with Google',
            no_account: 'Don’t have an account?',
            register_now: 'Register now',

            // New translations for PaymentResult.jsx
            loading_payment_result: 'Loading payment result...',
            no_payment_info: 'No payment information found!',
            return_to_home: 'Return to Home',
            payment_success: 'Payment Successful!',
            payment_failed: 'Payment Failed!',
            total_amount: 'Total Amount:',
            order_id: 'Order ID:',
            vnpay_transaction_id: 'VNPay Transaction ID:',
            payment_time: 'Payment Time:',
            bank: 'Bank:',
            view_order: 'View Order',

            // New translations for ProductDetail.jsx
            product_not_found: 'Product not found',
            product_loading: 'Loading...',
            price_per_kg: '{{price}}đ/1kg',
            stock_available: 'Available: {{stock}} products',
            quantity: 'Quantity:',
            add_to_cart: 'Add to Cart',
            product_description: 'Product Description',
            no_description: 'No description available.',
            product_reviews: 'Product Reviews',
            no_reviews: 'No reviews yet.',
            user_label: 'User #{{userId}}',
            comments: 'Comments',
            login_to_comment: 'Please <1>login</1> to comment.',
            comment_placeholder: 'Write your comment...',
            submit_comment: 'Submit Comment',
            no_comments: 'No comments yet.',
            delete_comment: 'Delete',
            add_to_cart_success: 'Product added successfully!',
            comment_empty: 'Comment content cannot be empty',
            comment_pending: 'Comment has been submitted and is awaiting approval',
            comment_error: 'Error posting comment',
            delete_comment_success: 'Comment deleted successfully!',
            delete_comment_error: 'Error deleting comment',

            // New translations for OrderTable.jsx
            refresh: 'Refresh',
            filter: 'Filter',
            order_id_column: 'Order ID',
            order_date_column: 'Order Date',
            shipping_address_column: 'Shipping Address',
            note_column: 'Note',
            payment_method_column: 'Payment Method',
            status_column: 'Status',
            actions_column: 'Actions',
            no_user_token: 'Please login to view orders.',
            order_details_title: 'Order Details #{{orderId}}',
            product_list: 'Product List',
            image_column: 'Image',
            quantity_column: 'Quantity',
            unit_price_column: 'Unit Price',
            total_price_column: 'Total',
            no_order_details: 'No order details available.',
            close: 'Close',
            review_product: 'Review Product',
            rating_label: 'Rating',
            comment_label: 'Comment',
            review_placeholder: 'Enter your review...',
            submit_review: 'Submit Review',
            cancel: 'Cancel',
            review_success: 'Product review submitted successfully!',
            review_error: 'Error submitting review',
            new_order: 'Place New Order',
            pagination_previous: 'Previous',
            pagination_next: 'Next',

            // New translations for Payment.jsx
            your_cart: 'Your Cart',
            view_cart: 'View Cart',
            checkout: 'Checkout',
            home_breadcrumb: 'Home',
            payment_breadcrumb: 'Payment',
            no_products_selected: 'No products selected for payment!',
            product_column: 'Product',
            name_column: 'Name',
            price_column: 'Price',
            total_column: 'Total',
            no_products: 'No products selected',
            coupon_placeholder: 'Coupon Code',
            apply_coupon: 'Apply',
            cart_subtotal: 'Subtotal:',
            shipping_label: 'Shipping:',
            provide_info: 'Please provide information',
            shipping_address_placeholder: 'Shipping Address (e.g., Dak Lak)',
            note_placeholder: 'Note (e.g., Deliver in the evening)',
            select_payment_method: 'Select Payment Method...',
            cart_total: 'Total:',
            proceed_to_checkout: 'Proceed to Checkout',
            processing: 'Processing...',
            order_success: 'Order placed successfully!',
            redirecting_to_paypal: 'Redirecting to PayPal...',
            redirecting_to_vnpay: 'Redirecting to VNPay...',
            payment_error: 'Cannot process order. Please try again!',
            no_shipping_address: 'Please enter a shipping address!',
            select_at_least_one_product: 'Please select at least one product!',

            // New translations for Register.jsx
            register_account: 'Register Account',
            register_subtitle: 'Please fill in all information to create a new account',
            fullname_label: 'Full Name',
            fullname_placeholder: 'Enter your full name',
            address_label: 'Address',
            address_placeholder: 'Enter your address',
            phone_label: 'Phone Number',
            phone_placeholder: 'Enter your phone number',
            register_button: 'Register',
            already_have_account: 'Already have an account?',
            login_link: 'Login',
            fullname_notblank: 'Full name cannot be blank',
            fullname_too_short: 'Full name must be at least 3 characters',
            address_notblank: 'Address cannot be blank',
            address_too_short: 'Address is too short, please provide more details',
            phone_notblank: 'Phone number cannot be blank',
            phone_invalid: 'Invalid phone number (10-11 digits)',
            password_too_short: 'Password must be at least 6 characters',
            password_no_uppercase: 'Password must contain at least 1 uppercase letter',
            password_no_special: 'Password must contain at least 1 special character',
            password_no_digit: 'Password must contain at least 1 digit',
            check_form: 'Please check your registration information',
            register_success: 'Registration successful!',
            register_error: 'Registration failed',

            // New translations for ProductList.jsx
            search_placeholder: 'Search products (e.g., Vegetables)...',
            cart_label: 'Cart',
            wishlist_label: 'Wishlist',
            organic_vegetables: 'Organic Vegetables',
            all_categories: 'All Categories',
            sort_by: 'Sort by',
            best_selling: 'Best Selling',
            price_asc: 'Price: Low to High',
            price_desc: 'Price: High to Low',
            discount: 'Discount',
            loading_products: 'Loading products...',
            no_products_found: 'No products found.',
            invalid_product_data: 'Invalid product data.',
            add_to_cart_button: 'Add to Cart',
            add_to_wishlist: 'Add to Wishlist',
            previous_page: 'Previous',
            next_page: 'Next',

            // New translations for Profile.jsx
            information: 'Information',
            email_label: 'Email',
            change_info: 'Edit Information',
            change_password: 'Change Password',
            order_info: 'Order Information',
            logout: 'Logout',
            save: 'Save',
            not_available: 'N/A',
            update_success: 'Information updated successfully!',
            update_error: 'Failed to update information. Please try again.',
            loading_user: 'Loading...',
            user_error: 'Cannot load user information. Please try again later.',
            remove_from_cart_success: 'Product removed successfully',
            cart_empty: 'Your cart is empty',
            remove: 'Remove',
            select: 'Select',


            payment_info_not_found: 'Payment information not found!',
            back_to_home: 'Back to home',
            vnpay_transaction: 'VNPay transaction:',
            payment_processing_error: 'Could not process payment result. Please try again!',
            please_login: 'Please login to use this feature!',
            enter_shipping_address: 'Please enter shipping address!',
            no_products_to_pay: 'No products to pay for!',
            invalid_api_response: 'Invalid API response',
            redirecting_paypal: 'Redirecting to PayPal...',
            paypal_url_error: 'Could not get confirmation URL from PayPal',
            redirecting_vnpay: 'Redirecting to VNPay...',
            vnpay_url_error: 'Could not get payment URL from VNPay',
            order_error: 'Could not place order. Please try again!',
            no_products_in_cart: 'No products in cart',
            undefined_product: 'Undefined product',
            subtotal: 'Subtotal:',
            delivery: 'Shipping:',
            shipping_address: 'Shipping address (e.g. Dak Lak)',
            place_order: 'Place Order',
            apply: 'Apply',
            coupon_code: 'Coupon code',
            home_page: 'Home Page',
            payment_methods: {
                cod: 'Cash on Delivery (COD)',
                paypal: 'Pay with PayPal',
                vnpay: 'Pay with VNPay',
            },
            total: 'Total',
            product: 'Product',
            name: 'Name',
            price: 'Price',
            quantity_short: 'Qty',
            'N/A': 'N/A',

            // New key
            currency: 'VND',

            status_processing: 'Processing',
            status_preparing: 'Preparing for Shipment',
            status_shipping: 'Shipping',
            status_delivered: 'Delivered',
            status_canceled: 'Canceled',
            status_unknown: 'Unknown',
            cancel_order_success: 'Order canceled successfully!',
            cancel_order_failed: 'Failed to cancel order.',
            warning: 'Warning',
            confirm: 'Confirm',

            view_product: 'View Product',

            review_failed: 'Failed to submit review.',
            rating: 'Rating',

            image: 'Image',
            unit_price: 'Unit Price',
            order_date: 'Order Date',
            payment_method: 'Payment Method',
            action: 'Action',
            previous:'Previous',
            next:'Next',
        },
    },
    vi: {
        translation: {
            // Existing translations from original i18n.js
            free_shipping: 'Miễn phí vận chuyển cho đơn hàng tiêu chuẩn trên $100',
            help_faqs: 'Trợ giúp & Câu hỏi thường gặp',
            my_account: 'Tài Khoản Của Tôi',
            register: 'Đăng ký',
            login: 'Đăng nhập',
            home: 'Trang chủ',
            shop: 'Cửa hàng',
            cart: 'Giỏ hàng',
            about: 'Giới Thiệu',
            shop_vegetables: 'Shop rau củ quả',
            quality_safety: 'Đảm bảo chất lượng, an toàn',
            shop_now: 'Vào Cửa Hàng Ngay',
            best_sellers: 'BÁN CHẠY NHẤT',
            new_products: 'SẢN PHẨM MỚI',
            favorite_products: 'SẢN PHẨM YÊU THÍCH',
            help: 'GIÚP ĐỠ',
            track_order: 'Theo dõi thứ tự',
            returns: 'Trả lại',
            shipping: 'Đang chuyển hàng',
            faqs: 'Câu hỏi thường gặp',
            contact: 'LIÊN LẠC',
            contact_info: 'Có thắc mắc gì không? Hãy cho chúng tôi biết tại cửa hàng ở tầng 8, 379 Hudson St, New York, NY 10018 hoặc gọi cho chúng tôi theo số (+1) 96 716 6879',
            newsletter: 'BẢN TIN',
            subscribe: 'ĐẶT MUA',
            email_placeholder: 'email@example.com',
            email_notblank: 'Email không được để trống',
            email_invalid: 'Email không hợp lệ',
            password_notblank: 'Mật khẩu không được để trống',
            password_invalid_format: 'Mật khẩu phải chứa ít nhất 1 chữ cái in hoa, 1 số, 1 ký tự đặc biệt',
            login_failed: 'Đăng nhập thất bại',
            login_success: 'Đăng nhập thành công',
            order_history: 'Lịch Sử Đơn Hàng',
            no_orders: 'Bạn chưa có đơn hàng nào.',
            loading: 'Đang tải...',
            error_loading: 'Không thể tải đơn hàng. Vui lòng thử lại.',
            cancel_order: 'Hủy Đơn Hàng',
            confirm_cancel: 'Bạn có chắc chắn muốn hủy đơn hàng này?',
            view_details: 'Xem Chi Tiết',
            order_details: 'Chi Tiết Đơn Hàng',

            // New translations for Footer.jsx
            copyright: 'Bản quyền ©{{year}} Bảo lưu mọi quyền | Được thực hiện với ',
            by_colorlib: 'bởi Colorlib',
            and_distributed_by: ' & phân phối bởi ',
            themewagon: 'ThemeWagon',

            // New translations for Login.jsx
            welcome: 'Chào mừng đến với ứng dụng',
            email: 'Email',
            password: 'Mật khẩu',
            forgot_password: 'Quên Mật Khẩu',
            or: 'hoặc',
            signin_with_google: 'Đăng nhập bằng Google',
            no_account: 'Chưa có tài khoản?',
            register_now: 'Đăng ký ngay',

            // New translations for PaymentResult.jsx
            loading_payment_result: 'Đang tải kết quả thanh toán...',
            no_payment_info: 'Không tìm thấy thông tin thanh toán!',
            return_to_home: 'Quay lại Trang Chủ',
            payment_success: 'Thanh toán Thành công!',
            payment_failed: 'Thanh toán Thất bại!',
            total_amount: 'Tổng Tiền:',
            order_id: 'Mã Đơn hàng:',
            vnpay_transaction_id: 'Mã Giao dịch VNPay:',
            payment_time: 'Thời gian Thanh toán:',
            bank: 'Ngân hàng:',
            view_order: 'Xem Đơn hàng',

            // New translations for ProductDetail.jsx
            product_not_found: 'Không tìm thấy sản phẩm',
            product_loading: 'Đang tải...',
            price_per_kg: '{{price}}đ/1kg',
            stock_available: 'Còn {{stock}} sản phẩm',
            quantity: 'Số lượng:',
            add_to_cart: 'Thêm vào Giỏ hàng',
            product_description: 'Mô tả Sản phẩm',
            no_description: 'Chưa có mô tả.',
            product_reviews: 'Đánh giá Sản phẩm',
            no_reviews: 'Chưa có đánh giá nào.',
            user_label: 'Người dùng #{{userId}}',
            comments: 'Bình luận',
            login_to_comment: 'Vui lòng <1>đăng nhập</1> để bình luận.',
            comment_placeholder: 'Viết bình luận của bạn...',
            submit_comment: 'Gửi Bình luận',
            no_comments: 'Chưa có bình luận nào.',
            delete_comment: 'Xóa',
            add_to_cart_success: 'Thêm sản phẩm thành công!',
            comment_empty: 'Nội dung bình luận không được để trống',
            comment_pending: 'Bình luận đã được gửi và đang chờ duyệt',
            comment_error: 'Lỗi khi đăng bình luận',
            delete_comment_success: 'Xóa bình luận thành công!',
            delete_comment_error: 'Lỗi khi xóa bình luận',

            // New translations for OrderTable.jsx
            refresh: 'Làm mới',
            filter: 'Lọc',
            order_id_column: 'Mã ĐH',
            order_date_column: 'Ngày Đặt',
            shipping_address_column: 'Địa chỉ',
            note_column: 'Ghi chú',
            payment_method_column: 'Phương thức Thanh toán',
            status_column: 'Trạng Thái',
            actions_column: 'Thao Tác',
            no_user_token: 'Vui lòng đăng nhập để xem đơn hàng.',
            order_details_title: 'Chi Tiết Đơn Hàng Số {{orderId}}',
            product_list: 'Danh Sách Sản Phẩm',
            image_column: 'Hình ảnh',
            quantity_column: 'Số lượng',
            unit_price_column: 'Đơn giá',
            total_price_column: 'Tổng',
            no_order_details: 'Không có sản phẩm chi tiết.',
            close: 'Đóng',
            review_product: 'Đánh giá Sản phẩm',
            rating_label: 'Điểm Đánh giá',
            comment_label: 'Nhận xét',
            review_placeholder: 'Nhập nhận xét của bạn...',
            submit_review: 'Gửi Đánh giá',
            cancel: 'Hủy',
            review_success: 'Đánh giá sản phẩm thành công!',
            review_error: 'Không thể gửi đánh giá',
            new_order: 'Đặt Hàng Mới',
            pagination_previous: 'Trước',
            pagination_next: 'Tiếp',

            // New translations for Payment.jsx
            your_cart: 'Giỏ hàng của bạn',
            view_cart: 'Xem Giỏ hàng',
            checkout: 'Thanh toán',
            home_breadcrumb: 'Trang chủ',
            payment_breadcrumb: 'Thanh toán',
            no_products_selected: 'Không có sản phẩm nào được chọn để thanh toán!',
            product_column: 'Sản phẩm',
            name_column: 'Tên',
            price_column: 'Giá',
            total_column: 'Tổng',
            no_products: 'Không có sản phẩm nào được chọn',
            coupon_placeholder: 'Mã Giảm giá',
            apply_coupon: 'Áp dụng',
            cart_subtotal: 'Tạm tính:',
            shipping_label: 'Giao hàng:',
            provide_info: 'Vui lòng cung cấp thông tin',
            shipping_address_placeholder: 'Địa chỉ Giao hàng (ví dụ: Đắc Lắc)',
            note_placeholder: 'Ghi chú (ví dụ: Giao tối)',
            select_payment_method: 'Chọn Phương thức Thanh toán...',
            cart_total: 'Tổng cộng:',
            proceed_to_checkout: 'Tiến hành Đặt hàng',
            processing: 'Đang xử lý...',
            order_success: 'Đặt hàng thành công!',
            redirecting_to_paypal: 'Đang chuyển hướng đến PayPal...',
            redirecting_to_vnpay: 'Đang chuyển hướng đến VNPay...',
            payment_error: 'Không thể gửi đơn hàng. Vui lòng thử lại!',
            no_shipping_address: 'Vui lòng nhập địa chỉ giao hàng!',
            select_at_least_one_product: 'Vui lòng chọn ít nhất 1 sản phẩm!',

            // New translations for Register.jsx
            register_account: 'Đăng ký Tài khoản',
            register_subtitle: 'Vui lòng điền đầy đủ thông tin để tạo tài khoản mới',
            fullname_label: 'Họ và Tên',
            fullname_placeholder: 'Nhập họ và tên của bạn',
            address_label: 'Địa chỉ',
            address_placeholder: 'Nhập địa chỉ của bạn',
            phone_label: 'Số Điện thoại',
            phone_placeholder: 'Nhập số điện thoại',
            register_button: 'Đăng ký',
            already_have_account: 'Bạn đã có tài khoản?',
            login_link: 'Đăng nhập',
            fullname_notblank: 'Họ và tên không được để trống',
            fullname_too_short: 'Họ và tên phải có ít nhất 3 ký tự',
            address_notblank: 'Địa chỉ không được để trống',
            address_too_short: 'Địa chỉ quá ngắn, vui lòng nhập chi tiết hơn',
            phone_notblank: 'Số điện thoại không được để trống',
            phone_invalid: 'Số điện thoại không hợp lệ (10-11 số)',
            password_too_short: 'Mật khẩu phải có ít nhất 6 ký tự',
            password_no_uppercase: 'Mật khẩu phải có ít nhất 1 chữ hoa',
            password_no_special: 'Mật khẩu phải có ít nhất 1 ký tự đặc biệt',
            password_no_digit: 'Mật khẩu phải có ít nhất 1 chữ số',
            check_form: 'Vui lòng kiểm tra lại thông tin đăng ký',
            register_success: 'Đăng ký thành công!',
            register_error: 'Đăng ký thất bại',

            // New translations for ProductList.jsx
            search_placeholder: 'Tìm kiếm sản phẩm (VD: Rau)...',
            cart_label: 'Giỏ hàng',
            wishlist_label: 'Yêu thích',
            organic_vegetables: 'Rau Củ Hữu Cơ',
            all_categories: 'Tất cả Danh mục',
            sort_by: 'Sắp xếp',
            best_selling: 'Bán chạy',
            price_asc: 'Giá: Thấp đến Cao',
            price_desc: 'Giá: Cao đến Thấp',
            discount: 'Khuyến mãi',
            loading_products: 'Đang tải sản phẩm...',
            no_products_found: 'Không tìm thấy sản phẩm nào phù hợp.',
            invalid_product_data: 'Dữ liệu sản phẩm không hợp lệ.',
            add_to_cart_button: 'Thêm vào Giỏ hàng',
            add_to_wishlist: 'Thêm vào Danh sách Yêu thích',
            previous_page: 'Trước',
            next_page: 'Tiếp',

            // New translations for Profile.jsx
            information: 'Thông Tin',
            email_label: 'Email',
            change_info: 'Đổi Thông tin',
            change_password: 'Đổi Mật Khẩu',
            order_info: 'Thông tin Đơn hàng',
            logout: 'Đăng xuất',
            save: 'Lưu',
            not_available: 'N/A',
            update_success: 'Cập nhật thông tin thành công!',
            update_error: 'Cập nhật thông tin thất bại. Vui lòng thử lại.',
            loading_user: 'Đang tải...',
            user_error: 'Không thể tải thông tin người dùng. Vui lòng thử lại sau.',
            remove_from_cart_success: 'Xóa thành công sản phẩm',
            cart_empty: 'Giỏ hàng của bạn trống',
            remove: 'Xóa',
            select: 'Chọn',
            payment_info_not_found: 'Không tìm thấy thông tin thanh toán!',
            back_to_home: 'Quay lại trang chủ',
            vnpay_transaction: 'Mã giao dịch VNPay:',
            payment_processing_error: 'Không thể xử lý kết quả thanh toán. Vui lòng thử lại!',
            please_login: 'Vui lòng đăng nhập để sử dụng tính năng này!',
            enter_shipping_address: 'Vui lòng nhập địa chỉ giao hàng!',
            no_products_to_pay: 'Không có sản phẩm nào để thanh toán!',
            invalid_api_response: 'Phản hồi từ API không hợp lệ',
            redirecting_paypal: 'Đang chuyển hướng đến PayPal...',
            paypal_url_error: 'Không nhận được URL xác nhận từ PayPal',
            redirecting_vnpay: 'Đang chuyển hướng đến VNPay...',
            vnpay_url_error: 'Không nhận được URL thanh toán từ VNPay',
            order_error: 'Không thể gửi đơn hàng. Vui lòng thử lại!',
            no_products_in_cart: 'Không có sản phẩm nào được chọn',
            undefined_product: 'Sản phẩm không xác định',
            subtotal: 'Tạm tính:',
            delivery: 'Giao hàng:',
            shipping_address: 'Địa chỉ giao hàng (ví dụ: Đắc Lắc)',
            place_order: 'Tiến hành đặt hàng',
            apply: 'Áp dụng',
            coupon_code: 'Mã giảm giá',
            home_page: 'Trang chủ',
            payment_methods: {
                cod: 'Thanh toán khi nhận hàng (COD)',
                paypal: 'Thanh toán qua PayPal',
                vnpay: 'Thanh toán qua VNPay',
            },
            total: 'Tổng cộng',
            product: 'Sản phẩm',
            name: 'Tên',
            price: 'Giá',
            quantity_short: 'SL',
            'N/A': 'Không có thông tin',

            // New key
            currency: 'VNĐ',

            status_processing: 'Đang xử lý',
            status_preparing: 'Đang chuẩn bị giao',
            status_shipping: 'Đang giao',
            status_delivered: 'Đã giao',
            status_canceled: 'Đã hủy',
            status_unknown: 'Không xác định',
            cancel_order_success: 'Hủy đơn hàng thành công!',
            cancel_order_failed: 'Lỗi khi hủy đơn hàng.',
            warning: 'Cảnh báo',
            confirm: 'Xác nhận',
            view_product: 'Xem sản phẩm',

            review_failed: 'Không thể gửi đánh giá.',
            rating: 'Điểm đánh giá',
            image: 'Hình ảnh',
            unit_price: 'Đơn giá',
            order_date: 'Ngày đặt',
            payment_method: 'Phương thức thanh toán',
            action: 'Thao tác',
            previous:'Trước',
            next:'Sau',

        },
    },
};

i18n
    .use(HttpBackend)
    .use(LanguageDetector)
    .use(initReactI18next)
    .init({
        resources, // Local translations as fallback
        fallbackLng: 'vi',
        lng: 'vi', // Default language
        debug: process.env.NODE_ENV === 'development',
        interpolation: {
            escapeValue: false, // React handles XSS
        },
        backend: {
            loadPath: 'http://localhost:8080/api/messages',
            addPath: 'http://localhost:8080/api/messages',
            parse: (data) => JSON.parse(data), // Parse JSON response
            requestOptions: {
                headers: {
                    'Accept-Language': '{{lng}}', // Dynamic language header
                },
            },
        },
        detection: {
            order: ['localStorage', 'navigator', 'querystring'],
            lookupLocalStorage: 'i18nextLng',
        },
    });

export default i18n;